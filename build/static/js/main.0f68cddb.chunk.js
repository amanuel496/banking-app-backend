(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{35:function(e,t,s){},36:function(e,t,s){},48:function(e,t,s){"use strict";s.r(t);var n=s(1),c=s.n(n),a=s(19),o=s.n(a),i=(s(35),s(36),s(37),s(11)),r=s(4),l=s(3),u=s(9),d=s(10),j=s(6),m=s(13),b=s(12),h={USER_LOGGEDIN:"USER_LOGGEDIN",USER_LOGOUT:"USER_LOGOUT",FETCH_CUSTOMERS:"FETCH_CUSTOMERS",FETCH_CUSTOMER:"FETCH_CUSTOMER",SET_CUSTOMER:"SET_CUSTOMER",NEW_POST:"NEW_POST"},p=s(15),O=s.n(p);function f(e){O()();return function(t){return fetch("https://my-banking-app-project.herokuapp.com/employee/signin",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(e),mode:"cors"}).then((function(e){if(!e.ok)throw Error(e.statusText);return e.json()})).then((function(s){var n;localStorage.setItem("name",s.name),localStorage.setItem("token",s.token),t((n=e.userId,{type:h.USER_LOGGEDIN,username:n}))})).catch((function(e){console.log(e)}))}}function g(){return function(e){localStorage.removeItem("name"),localStorage.removeItem("token"),e({type:h.USER_LOGOUT})}}var x=s.p+"static/media/user.a6143582.png",v=s(23),y=s(0),N=function(e){Object(m.a)(s,e);var t=Object(b.a)(s);function s(e){var n;return Object(u.a)(this,s),(n=t.call(this,e)).updateDetails=n.updateDetails.bind(Object(j.a)(n)),n.state={details:{email:"",password:""}},n}return Object(d.a)(s,[{key:"updateDetails",value:function(e){e.preventDefault();var t=Object.assign({},this.state.details);t[e.target.id]=e.target.value,this.setState({details:t})}},{key:"login",value:function(){this.props.dispatch(f(this.state.details))}},{key:"handleSignup",value:function(){}},{key:"render",value:function(){return Object(y.jsxs)("div",{className:"container-fluid",id:"login-wrapper",children:[Object(y.jsx)("div",{className:"row",children:Object(y.jsx)("h1",{children:"My-Bank"})}),Object(y.jsx)("div",{className:"row",children:Object(y.jsxs)("div",{className:"user-login",children:[Object(y.jsx)("img",{className:"user-img",src:x,alt:"user avator"}),Object(y.jsxs)("form",{children:[Object(y.jsxs)("div",{className:"form-group",children:[Object(y.jsx)("label",{for:"email",className:"col-sm-2 col-form-label",children:"Email"}),Object(y.jsx)("div",{className:"col-sm-10",children:Object(y.jsx)("input",{onChange:this.updateDetails,type:"text",readonly:!0,className:"form-control",id:"email",placeholder:"email@example.com"})})]}),Object(y.jsxs)("div",{className:"form-group",children:[Object(y.jsx)("label",{for:"password",className:"col-sm-2 col-form-label",children:"Password"}),Object(y.jsx)("div",{className:"col-sm-10",children:Object(y.jsx)("input",{onChange:this.updateDetails,type:"password",className:"form-control",id:"password"})})]}),Object(y.jsx)(r.Link,{to:"/menu",children:Object(y.jsx)("button",{style:{marginLeft:"15px"},onClick:this.login.bind(this),type:"button",class:"btn btn-primary",children:"Login"})}),Object(y.jsx)(r.Link,{to:"/signup",children:Object(y.jsx)("button",{style:{marginLeft:"15px"},type:"button",class:"btn btn-primary",children:"Create Account"})})]})]})})]})}}]),s}(n.Component),k=Object(i.b)((function(e){return{}}))(N),C=function(e){Object(m.a)(s,e);var t=Object(b.a)(s);function s(e){var n;return Object(u.a)(this,s),(n=t.call(this,e)).updateDetails=n.updateDetails.bind(Object(j.a)(n)),n.signup=n.signup.bind(Object(j.a)(n)),n.state={details:{name:"",email:"",password:""}},n}return Object(d.a)(s,[{key:"updateDetails",value:function(e){var t=Object.assign({},this.state.details);t[e.target.id]=e.target.value,this.setState({details:t})}},{key:"signup",value:function(){var e;(0,this.props.dispatch)((e=this.state.details,O()(),function(t){return fetch("https://my-banking-app-project.herokuapp.com/employee/signup",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(e),mode:"cors"}).then((function(e){if(!e.ok)throw Error(e.statusText);return e.json()})).then((function(s){t(f(e))})).catch((function(e){return console.log(e)}))}))}},{key:"render",value:function(){return Object(y.jsxs)("div",{className:"container-fluid",id:"login-wrapper",children:[Object(y.jsx)("div",{className:"row",children:Object(y.jsx)("h1",{children:"My-Bank"})}),Object(y.jsx)("div",{className:"row",children:Object(y.jsxs)("div",{className:"user-login",children:[Object(y.jsx)("img",{className:"user-img",src:x,alt:"user avator"}),Object(y.jsxs)("form",{children:[Object(y.jsxs)("div",{className:"form-group",children:[Object(y.jsx)("label",{for:"name",className:"col-sm-4 col-form-label",children:"Full-Name"}),Object(y.jsx)("div",{className:"col-sm-10",children:Object(y.jsx)("input",{onChange:this.updateDetails,type:"text",className:"form-control",id:"name"})})]}),Object(y.jsxs)("div",{className:"form-group",children:[Object(y.jsx)("label",{for:"email",className:"col-sm-2 col-form-label",children:"Email"}),Object(y.jsx)("div",{className:"col-sm-10",children:Object(y.jsx)("input",{onChange:this.updateDetails,type:"text",readonly:!0,className:"form-control",id:"email",placeholder:"email@example.com"})})]}),Object(y.jsxs)("div",{className:"form-group",children:[Object(y.jsx)("label",{for:"password",className:"col-sm-2 col-form-label",children:"Password"}),Object(y.jsx)("div",{className:"col-sm-10",children:Object(y.jsx)("input",{onChange:this.updateDetails,type:"password",className:"form-control",id:"password"})})]}),Object(y.jsx)(v.LinkContainer,{to:"/menu",children:Object(y.jsx)("button",{style:{marginLeft:"15px"},onClick:this.signup,type:"button",class:"btn btn-primary",children:"Signup"})})]})]})})]})}}]),s}(n.Component),S=Object(i.b)((function(e){return{}}))(C),T=function(e){Object(m.a)(s,e);var t=Object(b.a)(s);function s(){return Object(u.a)(this,s),t.apply(this,arguments)}return Object(d.a)(s,[{key:"logout",value:function(){this.props.dispatch(g())}},{key:"render",value:function(){return Object(y.jsxs)("div",{className:"container-fluid",id:"menu-wrapper",children:[Object(y.jsxs)("div",{className:"row",children:[Object(y.jsx)("button",{className:"logout btn btn-primary"}),Object(y.jsx)(r.Link,{to:"/signin",children:Object(y.jsx)("button",{onClick:this.logout.bind(this),type:"button",class:"logout btn btn-primary",children:"Logout"})})]}),Object(y.jsx)("div",{className:"row",children:Object(y.jsxs)("div",{className:"user-menu",children:[Object(y.jsx)("img",{className:"user-img-menu",src:x,alt:"user avator"}),Object(y.jsx)("div",{style:{marginLeft:"33%",marginBottom:"8%",textTransform:"uppercase"},children:localStorage.name}),Object(y.jsxs)("div",{children:[" ",Object(y.jsx)(r.Link,{to:"/createAccount",children:Object(y.jsx)("button",{type:"button",class:"menu-btn",children:"creat customer account"})})]}),Object(y.jsxs)("div",{children:[" ",Object(y.jsx)(r.Link,{to:"/viewaccounts",children:Object(y.jsx)("button",{type:"button",class:"menu-btn",children:"view existing accounts"})})]})]})})]})}}]),s}(n.Component),E=Object(i.b)((function(e){return{}}))(T),w=s(17),D=s(30),L={loggedIn:!!localStorage.getItem("token"),username:localStorage.getItem("username")?localStorage.getItem("username"):""},A=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:L,t=arguments.length>1?arguments[1]:void 0,s=Object.assign({},e);switch(t.type){case h.USER_LOGGEDIN:return s.loggedIn=!0,s.username=t.username,s;case h.USER_LOGOUT:return s.loggedIn=!1,s.username="",s;default:return e}},R={customers:[],selectedCustomer:null},I=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:R,t=arguments.length>1?arguments[1]:void 0,s=Object.assign({},e);switch(t.type){case h.FETCH_CUSTOMERS:return s.customers=t.customers,s.selectedCustomer=t.customers[0],console.log(s.customers),s;case h.SET_CUSTOMER:case h.FETCH_CUSTOMER:return s.selectedCustomer=t.selectedCustomer,s;case h.NEW_POST:default:return e}},_=[D.a],U=Object(w.d)(Object(w.c)({auth:A,customers:I}),w.a.apply(void 0,_)),M=function(e){Object(m.a)(s,e);var t=Object(b.a)(s);function s(){return Object(u.a)(this,s),t.apply(this,arguments)}return Object(d.a)(s,[{key:"render",value:function(){var e=this.props.component;return localStorage.getItem("token")?Object(y.jsx)(e,{}):Object(y.jsx)(l.c,{to:{pathname:"/login"}})}}]),s}(c.a.Component);function F(e){return function(t){t(function(e){return{type:h.SET_CUSTOMER,selectedCustomer:e}}(e))}}function P(){O()();return function(e){return fetch("https://my-banking-app-project.herokuapp.com/customers",{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"JWT ".concat(localStorage.getItem("token"))},mode:"cors"}).then((function(e){if(!e.ok)throw Error(e.statusText);return e.json()})).then((function(t){var s;e((s=t,console.log(s),{type:h.FETCH_CUSTOMERS,customers:s}))})).catch((function(e){return console.log(e)}))}}var G=function(e){Object(m.a)(s,e);var t=Object(b.a)(s);function s(e){var n;return Object(u.a)(this,s),(n=t.call(this,e)).updateDetails=n.updateDetails.bind(Object(j.a)(n)),n.submit=n.submit.bind(Object(j.a)(n)),n.refreshPage=n.refreshPage.bind(Object(j.a)(n)),n.state={details:{firstName:void 0,lastName:void 0,email:void 0,gender:void 0,accountType:void 0,accountNumber:parseInt(-1e8*Math.random()+11e8),amount:void 0}},n}return Object(d.a)(s,[{key:"refreshPage",value:function(){window.location.reload(!1)}},{key:"updateDetails",value:function(e){var t=Object.assign({},this.state.details);t[e.target.name]=e.target.value,this.setState({details:t})}},{key:"submit",value:function(){var e;(0,this.props.dispatch)((e=this.state.details,function(t){O()(),window.localStorage.getItem("token"),console.log(e),fetch("https://my-banking-app-project.herokuapp.com/customers",{method:"POST",headers:{"content-type":"application/json",Authorization:"JWT ".concat(localStorage.getItem("token"))},mode:"cors",body:JSON.stringify(e)}).then((function(e){if(!e.ok)throw Error(e.statusText);return e.json()})).then((function(e){return t({type:h.NEW_POST})}))}))}},{key:"logout",value:function(){this.props.dispatch(g())}},{key:"render",value:function(){return Object(y.jsxs)("div",{className:"container-fluid",id:"create-account-wrapper",children:[Object(y.jsxs)("div",{className:"row",children:[Object(y.jsx)("button",{className:"logout btn btn-primary"}),Object(y.jsx)(r.Link,{to:"/signin",children:Object(y.jsx)("button",{onClick:this.logout.bind(this),type:"button",class:"logout btn btn-primary",children:"Logout"})}),Object(y.jsx)(r.Link,{to:"/menu",children:Object(y.jsx)("button",{type:"button",class:"back btn btn-primary",children:"Back"})})]}),Object(y.jsx)("div",{className:"row",children:Object(y.jsxs)("div",{className:"col",children:[Object(y.jsx)("h1",{style:{marginBottom:"10%"},children:"Bank Account Registration Form"}),Object(y.jsxs)("form",{children:[Object(y.jsxs)("div",{className:"form-row",children:[Object(y.jsxs)("div",{className:"col form-group",children:[Object(y.jsx)("label",{children:"First name "}),Object(y.jsx)("input",{value:this.state.details.firstName,name:"firstName",onChange:this.updateDetails,type:"text",class:"form-control",placeholder:""})]}),Object(y.jsxs)("div",{className:"col form-group",children:[Object(y.jsx)("label",{children:"Last name"}),Object(y.jsx)("input",{value:this.state.details.lastName,name:"lastName",onChange:this.updateDetails,type:"text",class:"form-control",placeholder:" "})]})]}),Object(y.jsxs)("div",{className:"form-group",children:[Object(y.jsx)("label",{children:"Email address"}),Object(y.jsx)("input",{value:this.state.details.email,name:"email",onChange:this.updateDetails,type:"email",className:"form-control",placeholder:""})]}),Object(y.jsxs)("div",{className:"form-group",children:[Object(y.jsxs)("label",{className:"form-check form-check-inline",children:[Object(y.jsx)("input",{onChange:this.updateDetails,className:"form-check-input",type:"radio",name:"gender",value:"Male"}),Object(y.jsx)("span",{className:"form-check-label",children:" Male "})]}),Object(y.jsxs)("label",{className:"form-check form-check-inline",children:[Object(y.jsx)("input",{onChange:this.updateDetails,className:"form-check-input",type:"radio",name:"gender",value:"Female"}),Object(y.jsx)("span",{className:"form-check-label",children:" Female"})]})]}),Object(y.jsxs)("div",{className:"form-row",children:[Object(y.jsxs)("div",{className:"form-group col-md-6",children:[Object(y.jsx)("label",{children:"Amount"}),Object(y.jsx)("input",{name:"amount",value:this.state.details.amount,onChange:this.updateDetails,type:"text",className:"form-control"})]}),Object(y.jsx)("div",{className:"form-group col-md-6",children:Object(y.jsxs)("label",{children:["Account Type",Object(y.jsxs)("select",{value:this.state.details.accountType,onChange:this.updateDetails,name:"accountType",id:"inputState",className:"form-control",children:[Object(y.jsx)("option",{value:"",children:" Choose..."}),Object(y.jsx)("option",{value:"Checking Account",selected:"",children:"Checking Account"}),Object(y.jsx)("optionc",{value:"Savings Account",children:"Savings Account"}),Object(y.jsx)("option",{value:"A Money Markey Account",children:"A Money Markey Account"}),Object(y.jsx)("option",{value:"Certificates of Deposit (CD)",children:"Certificates of Deposit (CD)"}),Object(y.jsx)("option",{value:"IRA Account",children:"IRA Account"})]})]})})]}),Object(y.jsxs)("div",{className:"form-group",children:[Object(y.jsxs)("label",{children:["Account Number \xa0\xa0",Object(y.jsx)("button",{type:"button",className:"btn btn-primary",onClick:this.refreshPage,children:"Regenerate"})]}),Object(y.jsx)("input",{id:"accountNumber",className:"form-control",value:this.state.details.accountNumber,readOnly:!0})]}),Object(y.jsx)("div",{className:"form-group",children:Object(y.jsx)(r.Link,{to:"/menu",children:Object(y.jsxs)("button",{type:"button",onClick:this.submit,className:"btn btn-primary btn-block",children:[" ","Register"," "]})})})]})]})})]})}}]),s}(n.Component),B=Object(i.b)((function(e){return{selectedCustomer:e.customers.selectedCustomer}}))(G),H=function(e){Object(m.a)(s,e);var t=Object(b.a)(s);function s(e){var n;return Object(u.a)(this,s),(n=t.call(this,e)).handleSelect=n.handleSelect.bind(Object(j.a)(n)),n.state={displayContent:!1},n}return Object(d.a)(s,[{key:"componentDidMount",value:function(){(0,this.props.dispatch)(P())}},{key:"handleSelect",value:function(e,t){(0,this.props.dispatch)(F(this.props.customers[e]))}},{key:"refreshPage",value:function(){window.location.reload(!1)}},{key:"updateDetails",value:function(e){var t=Object.assign({},this.state.details);t[e.target.name]=e.target.value,this.setState({details:t})}},{key:"logout",value:function(){this.props.dispatch(g())}},{key:"render",value:function(){var e=this,t=function(t){return t.customers?Object(y.jsxs)("div",{className:"container-fluid",id:"view-account-wrapper",children:[Object(y.jsxs)("div",{className:"row",children:[Object(y.jsx)("button",{className:"logout btn btn-primary"}),Object(y.jsx)(r.Link,{to:"/signin",children:Object(y.jsx)("button",{onClick:e.logout.bind(e),type:"button",class:"logout btn btn-primary",children:"Logout"})}),Object(y.jsx)(r.Link,{to:"/menu",children:Object(y.jsx)("button",{type:"button",class:"back btn btn-primary",children:"Back"})})]}),Object(y.jsx)("div",{className:"row",children:Object(y.jsxs)("div",{className:"col-12",style:{marginLeft:"40%"},children:[Object(y.jsx)("h1",{style:{marginBottom:"10%"},children:"Customers List"}),e.props.customers.customers.map((function(e){return Object(y.jsxs)("div",{id:"customers-list",children:[Object(y.jsxs)("h3",{style:{display:"inline"},children:[e.firstName,"\xa0",e.lastName]}),Object(y.jsxs)("h5",{children:["\xa0Account Number: ",e.accountNumber]}),Object(y.jsxs)("div",{className:"customer-detail",children:[Object(y.jsxs)("h5",{children:["\xa0Account Type:\xa0",e.accountType]}),Object(y.jsxs)("h5",{children:["\xa0Amount:\xa0",e.amount]}),Object(y.jsxs)("h5",{children:["\xa0Gender:\xa0",e.gender]}),Object(y.jsxs)("h5",{children:["\xa0Email:\xa0",e.email]})]})]},e._id)})),console.log(e.props.customers.customers[0])]})})]}):Object(y.jsx)("div",{children:"Loading...."})};return Object(y.jsx)(t,{customers:this.props.customers})}}]),s}(n.Component),J=Object(i.b)((function(e){return{customers:e.customers}}))(H);var W=function(){return Object(y.jsx)("div",{className:"App",children:Object(y.jsx)(i.a,{store:U,children:Object(y.jsx)(r.BrowserRouter,{children:Object(y.jsxs)(l.g,{children:[Object(y.jsx)(l.d,{path:"/login",component:k}),Object(y.jsx)(l.d,{exact:!0,path:"/signup",render:function(){return Object(y.jsx)(S,{})}}),Object(y.jsx)(M,{exact:"true",path:"/menu",component:E}),Object(y.jsx)(M,{path:"/creatAccount",component:B}),Object(y.jsx)(M,{path:"/viewaccounts",component:J}),Object(y.jsx)(M,{component:B})]})})})})},z=function(e){e&&e instanceof Function&&s.e(3).then(s.bind(null,49)).then((function(t){var s=t.getCLS,n=t.getFID,c=t.getFCP,a=t.getLCP,o=t.getTTFB;s(e),n(e),c(e),a(e),o(e)}))};o.a.render(Object(y.jsx)(c.a.StrictMode,{children:Object(y.jsx)(W,{})}),document.getElementById("root")),z()}},[[48,1,2]]]);
//# sourceMappingURL=main.0f68cddb.chunk.js.map